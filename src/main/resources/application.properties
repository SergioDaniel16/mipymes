# =================================================================
# CONFIGURACIÓN GENERAL DE LA APLICACIÓN
# =================================================================
spring.application.name=MIPYMES Contable API
server.port=8080

# =================================================================
# CONFIGURACIÓN DE BASE DE DATOS
# =================================================================
# Para DESARROLLO: Usamos H2 (base de datos en memoria)
# Esto evita instalar PostgreSQL mientras aprendemos
spring.datasource.url=jdbc:h2:mem:contabledb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# Para ver la consola de H2 en el navegador (útil para debug)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# =================================================================
# CONFIGURACIÓN DE JPA/HIBERNATE
# =================================================================
# Crear tablas automáticamente en desarrollo
spring.jpa.hibernate.ddl-auto=create-drop
# Mostrar las consultas SQL en consola (para aprender)
spring.jpa.show-sql=true
# Formatear las consultas SQL para que sean legibles
spring.jpa.properties.hibernate.format_sql=true
# Dialecto de H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# =================================================================
# CONFIGURACIÓN DE FLYWAY (Migraciones)
# =================================================================
# Deshabilitamos Flyway por ahora, lo activaremos más adelante
spring.flyway.enabled=false

# =================================================================
# CONFIGURACIÓN DE SEGURIDAD
# =================================================================
# Por ahora deshabilitamos la seguridad para enfocarnos en el modelo
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# =================================================================
# CONFIGURACIÓN DE LOGGING
# =================================================================
# Ver los logs de SQL con parámetros
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
# Logs de nuestra aplicación
logging.level.edu.gt.umg.mipymes.contable=INFO

# =================================================================
# CONFIGURACIÓN ADICIONAL
# =================================================================
# Formato de fecha/hora para JSON
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Guatemala

# Configuración de validación
spring.jpa.properties.hibernate.validator.apply_to_ddl=false

